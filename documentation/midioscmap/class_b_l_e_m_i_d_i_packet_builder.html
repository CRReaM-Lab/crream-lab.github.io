<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MidiOscMap: BLEMIDIPacketBuilder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MidiOscMap
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_b_l_e_m_i_d_i_packet_builder.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_b_l_e_m_i_d_i_packet_builder-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BLEMIDIPacketBuilder Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class for building MIDI over Bluetooth Low Energy packets.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_b_l_e_m_i_d_i_packet_builder_8hpp_source.html">BLEMIDIPacketBuilder.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a697744b83d1cb19540cf6eb47c973954" id="r_a697744b83d1cb19540cf6eb47c973954"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a697744b83d1cb19540cf6eb47c973954">BLEMIDIPacketBuilder</a> (size_t capacity=20)</td></tr>
<tr class="separator:a697744b83d1cb19540cf6eb47c973954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42fb0e675f4b208dda600b0f5ca7d8ab" id="r_a42fb0e675f4b208dda600b0f5ca7d8ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a42fb0e675f4b208dda600b0f5ca7d8ab">reset</a> ()</td></tr>
<tr class="memdesc:a42fb0e675f4b208dda600b0f5ca7d8ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the builder to start a new packet.  <br /></td></tr>
<tr class="separator:a42fb0e675f4b208dda600b0f5ca7d8ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab73ba97cc167dbd98c37e2e255db5b9b" id="r_ab73ba97cc167dbd98c37e2e255db5b9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab73ba97cc167dbd98c37e2e255db5b9b">setCapacity</a> (uint16_t capacity)</td></tr>
<tr class="separator:ab73ba97cc167dbd98c37e2e255db5b9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af63e6838d3d6416f589360f8ba04e9ca" id="r_af63e6838d3d6416f589360f8ba04e9ca"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af63e6838d3d6416f589360f8ba04e9ca">getSize</a> () const</td></tr>
<tr class="memdesc:af63e6838d3d6416f589360f8ba04e9ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size of the current packet.  <br /></td></tr>
<tr class="separator:af63e6838d3d6416f589360f8ba04e9ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8dc627181f213680e5ceac1ccce4ac3" id="r_ad8dc627181f213680e5ceac1ccce4ac3"><td class="memItemLeft" align="right" valign="top">const uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8dc627181f213680e5ceac1ccce4ac3">getBuffer</a> () const</td></tr>
<tr class="memdesc:ad8dc627181f213680e5ceac1ccce4ac3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the packet data buffer.  <br /></td></tr>
<tr class="separator:ad8dc627181f213680e5ceac1ccce4ac3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7a12aef1832dcc79a692aeeabfa9d24" id="r_ac7a12aef1832dcc79a692aeeabfa9d24"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7a12aef1832dcc79a692aeeabfa9d24">empty</a> () const</td></tr>
<tr class="memdesc:ac7a12aef1832dcc79a692aeeabfa9d24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the packet buffer is empty.  <br /></td></tr>
<tr class="separator:ac7a12aef1832dcc79a692aeeabfa9d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bf620e5095cfd30a12e2adc80ed208a" id="r_a4bf620e5095cfd30a12e2adc80ed208a"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; uint8_t &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4bf620e5095cfd30a12e2adc80ed208a">getPacket</a> () const</td></tr>
<tr class="memdesc:a4bf620e5095cfd30a12e2adc80ed208a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the packet as a vector of bytes.  <br /></td></tr>
<tr class="separator:a4bf620e5095cfd30a12e2adc80ed208a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a86557bd512dcc9e4f567ba019f5f40" id="r_a1a86557bd512dcc9e4f567ba019f5f40"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a86557bd512dcc9e4f567ba019f5f40">add3B</a> (uint8_t header, uint8_t data1, uint8_t data2, uint16_t timestamp)</td></tr>
<tr class="memdesc:a1a86557bd512dcc9e4f567ba019f5f40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try adding a 3-byte MIDI channel voice message to the packet.  <br /></td></tr>
<tr class="separator:a1a86557bd512dcc9e4f567ba019f5f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef06147db65f5eea319bb65628eb1bf1" id="r_aef06147db65f5eea319bb65628eb1bf1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aef06147db65f5eea319bb65628eb1bf1">add2B</a> (uint8_t header, uint8_t data1, uint16_t timestamp)</td></tr>
<tr class="memdesc:aef06147db65f5eea319bb65628eb1bf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try adding a 2-byte MIDI channel voice message to the packet.  <br /></td></tr>
<tr class="separator:aef06147db65f5eea319bb65628eb1bf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab735a1d927ead04dafdc1977916871bb" id="r_ab735a1d927ead04dafdc1977916871bb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab735a1d927ead04dafdc1977916871bb">addRealTime</a> (uint8_t rt, uint16_t timestamp)</td></tr>
<tr class="memdesc:ab735a1d927ead04dafdc1977916871bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try adding a MIDI real-time message to the packet.  <br /></td></tr>
<tr class="separator:ab735a1d927ead04dafdc1977916871bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d5b52097de9bd1bb8c9a3cf6db8fa6d" id="r_a3d5b52097de9bd1bb8c9a3cf6db8fa6d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d5b52097de9bd1bb8c9a3cf6db8fa6d">addSysCommon</a> (uint8_t num_data, uint8_t header, uint8_t data1, uint8_t data2, uint16_t timestamp)</td></tr>
<tr class="memdesc:a3d5b52097de9bd1bb8c9a3cf6db8fa6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try adding a MIDI system common message to the packet.  <br /></td></tr>
<tr class="separator:a3d5b52097de9bd1bb8c9a3cf6db8fa6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e0ae2a65e4e468152825621cfe46450" id="r_a9e0ae2a65e4e468152825621cfe46450"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e0ae2a65e4e468152825621cfe46450">addSysEx</a> (const uint8_t *&amp;data, size_t &amp;length, uint16_t timestamp)</td></tr>
<tr class="memdesc:a9e0ae2a65e4e468152825621cfe46450"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try adding (part of) a SysEx message to the packet.  <br /></td></tr>
<tr class="separator:a9e0ae2a65e4e468152825621cfe46450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c074425ab32ba4cf39ca1983a1fe774" id="r_a3c074425ab32ba4cf39ca1983a1fe774"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c074425ab32ba4cf39ca1983a1fe774">continueSysEx</a> (const uint8_t *&amp;data, size_t &amp;length, uint16_t timestamp)</td></tr>
<tr class="memdesc:a3c074425ab32ba4cf39ca1983a1fe774"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a SysEx continuation to the packet.  <br /></td></tr>
<tr class="separator:a3c074425ab32ba4cf39ca1983a1fe774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a576a3def0348da52616d8b6ca99f3956" id="r_a576a3def0348da52616d8b6ca99f3956"><td class="memTemplParams" colspan="2">template&lt;bool ThreeBytes&gt; </td></tr>
<tr class="memitem:a576a3def0348da52616d8b6ca99f3956"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="_settings_2_namespace_settings_8hpp.html#a9432e3744c64fcf8e711ef91eff6a5cd">BEGIN_CS_NAMESPACE</a> bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a576a3def0348da52616d8b6ca99f3956">addImpl</a> (uint8_t header, uint8_t data1, uint8_t data2, uint16_t timestamp)</td></tr>
<tr class="separator:a576a3def0348da52616d8b6ca99f3956"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for building MIDI over Bluetooth Low Energy packets. </p>

<p class="definition">Definition at line <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8hpp_source.html#l00010">10</a> of file <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8hpp_source.html">BLEMIDIPacketBuilder.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a697744b83d1cb19540cf6eb47c973954" name="a697744b83d1cb19540cf6eb47c973954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a697744b83d1cb19540cf6eb47c973954">&#9670;&#160;</a></span>BLEMIDIPacketBuilder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BLEMIDIPacketBuilder::BLEMIDIPacketBuilder </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>capacity</em></span><span class="paramdefsep"> = </span><span class="paramdefval">20</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8hpp_source.html#l00069">69</a> of file <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8hpp_source.html">BLEMIDIPacketBuilder.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aef06147db65f5eea319bb65628eb1bf1" name="aef06147db65f5eea319bb65628eb1bf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef06147db65f5eea319bb65628eb1bf1">&#9670;&#160;</a></span>add2B()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BLEMIDIPacketBuilder::add2B </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>header</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>data1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>timestamp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try adding a 2-byte MIDI channel voice message to the packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>MIDI status byte. </td></tr>
    <tr><td class="paramname">data1</td><td>MIDI data byte 1. </td></tr>
    <tr><td class="paramname">timestamp</td><td>13-bit BLE-MIDI timestamp.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Successfully added message to the packet. </td></tr>
    <tr><td class="paramname">false</td><td>Buffer is too full, send the current packet, reset the packet builder, and try again. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html#l00066">66</a> of file <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html">BLEMIDIPacketBuilder.cpp</a>.</p>

</div>
</div>
<a id="a1a86557bd512dcc9e4f567ba019f5f40" name="a1a86557bd512dcc9e4f567ba019f5f40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a86557bd512dcc9e4f567ba019f5f40">&#9670;&#160;</a></span>add3B()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BLEMIDIPacketBuilder::add3B </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>header</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>data1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>data2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>timestamp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try adding a 3-byte MIDI channel voice message to the packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>MIDI status byte. </td></tr>
    <tr><td class="paramname">data1</td><td>MIDI data byte 1. </td></tr>
    <tr><td class="paramname">data2</td><td>MIDI data byte 2. </td></tr>
    <tr><td class="paramname">timestamp</td><td>13-bit BLE-MIDI timestamp.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Successfully added message to the packet. </td></tr>
    <tr><td class="paramname">false</td><td>Buffer is too full, send the current packet, reset the packet builder, and try again. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html#l00060">60</a> of file <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html">BLEMIDIPacketBuilder.cpp</a>.</p>

</div>
</div>
<a id="a576a3def0348da52616d8b6ca99f3956" name="a576a3def0348da52616d8b6ca99f3956"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a576a3def0348da52616d8b6ca99f3956">&#9670;&#160;</a></span>addImpl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;bool ThreeBytes&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_settings_2_namespace_settings_8hpp.html#a9432e3744c64fcf8e711ef91eff6a5cd">BEGIN_CS_NAMESPACE</a> bool BLEMIDIPacketBuilder::addImpl </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>header</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>data1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>data2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>timestamp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html#l00006">6</a> of file <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html">BLEMIDIPacketBuilder.cpp</a>.</p>

</div>
</div>
<a id="ab735a1d927ead04dafdc1977916871bb" name="ab735a1d927ead04dafdc1977916871bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab735a1d927ead04dafdc1977916871bb">&#9670;&#160;</a></span>addRealTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BLEMIDIPacketBuilder::addRealTime </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>rt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>timestamp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try adding a MIDI real-time message to the packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rt</td><td>MIDI real-time byte. </td></tr>
    <tr><td class="paramname">timestamp</td><td>13-bit BLE-MIDI timestamp.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Successfully added message to the packet. </td></tr>
    <tr><td class="paramname">false</td><td>Buffer is too full, send the current packet, reset the packet builder, and try again. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html#l00072">72</a> of file <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html">BLEMIDIPacketBuilder.cpp</a>.</p>

</div>
</div>
<a id="a3d5b52097de9bd1bb8c9a3cf6db8fa6d" name="a3d5b52097de9bd1bb8c9a3cf6db8fa6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d5b52097de9bd1bb8c9a3cf6db8fa6d">&#9670;&#160;</a></span>addSysCommon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BLEMIDIPacketBuilder::addSysCommon </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>num_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>header</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>data1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>data2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>timestamp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try adding a MIDI system common message to the packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_data</td><td>The number of data bytes (0, 1 or 2). </td></tr>
    <tr><td class="paramname">header</td><td>System common status byte. </td></tr>
    <tr><td class="paramname">data1</td><td>MIDI data byte 1. </td></tr>
    <tr><td class="paramname">data2</td><td>MIDI data byte 2. </td></tr>
    <tr><td class="paramname">timestamp</td><td>13-bit BLE-MIDI timestamp.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Successfully added message to the packet. </td></tr>
    <tr><td class="paramname">false</td><td>Buffer is too full, send the current packet, reset the packet builder, and try again. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html#l00085">85</a> of file <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html">BLEMIDIPacketBuilder.cpp</a>.</p>

</div>
</div>
<a id="a9e0ae2a65e4e468152825621cfe46450" name="a9e0ae2a65e4e468152825621cfe46450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e0ae2a65e4e468152825621cfe46450">&#9670;&#160;</a></span>addSysEx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BLEMIDIPacketBuilder::addSysEx </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;</td>          <td class="paramname"><span class="paramname"><em>length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>timestamp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try adding (part of) a SysEx message to the packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">data</td><td>Pointer to the first byte of the SysEx message. At the end, this will point to the first byte to send in the next packet, or <code>nullptr</code> if the message was finished. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">length</td><td>The number of bytes in the SysEx message. At the end, this will be set to remaining number of bytes to send in the next packet. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timestamp</td><td>13-bit BLE-MIDI timestamp.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Successfully added (part of) the message to the packet. </td></tr>
    <tr><td class="paramname">false</td><td>Buffer is too full, send the current packet, reset the packet builder, and try again.</td></tr>
  </table>
  </dd>
</dl>
<p>If the message fits in a single packet, <code>length</code> is set to <code>0</code> (no remaining data bytes) and <code>data</code> is set to <code>nullptr</code>.</p>
<p>For example: </p><div class="fragment"><div class="line"><a class="code hl_function" href="#a697744b83d1cb19540cf6eb47c973954">BLEMIDIPacketBuilder</a> packetbuilder;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> uint8_t *data = (...);</div>
<div class="line"><span class="keywordtype">size_t</span> length = (...);</div>
<div class="line">uint16_t timestamp = (...);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (!packetbuilder.<a class="code hl_function" href="#a9e0ae2a65e4e468152825621cfe46450">addSysEx</a>(data, length, timestamp)) {</div>
<div class="line">    sendnow(packetbuilder.<a class="code hl_function" href="#ad8dc627181f213680e5ceac1ccce4ac3">getBuffer</a>(), packetbuilder.<a class="code hl_function" href="#af63e6838d3d6416f589360f8ba04e9ca">getSize</a>());</div>
<div class="line">    packetbuilder.<a class="code hl_function" href="#a42fb0e675f4b208dda600b0f5ca7d8ab">reset</a>();</div>
<div class="line">    packetbuilder.<a class="code hl_function" href="#a9e0ae2a65e4e468152825621cfe46450">addSysEx</a>(data, length, timestamp)</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">while</span> (data) {</div>
<div class="line">    sendnow(packetbuilder.<a class="code hl_function" href="#ad8dc627181f213680e5ceac1ccce4ac3">getBuffer</a>(), packetbuilder.<a class="code hl_function" href="#af63e6838d3d6416f589360f8ba04e9ca">getSize</a>());</div>
<div class="line">    packetbuilder.<a class="code hl_function" href="#a42fb0e675f4b208dda600b0f5ca7d8ab">reset</a>();</div>
<div class="line">    packetbuilder.<a class="code hl_function" href="#a3c074425ab32ba4cf39ca1983a1fe774">continueSysEx</a>(data, length, timestamp);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_b_l_e_m_i_d_i_packet_builder_html_a3c074425ab32ba4cf39ca1983a1fe774"><div class="ttname"><a href="#a3c074425ab32ba4cf39ca1983a1fe774">BLEMIDIPacketBuilder::continueSysEx</a></div><div class="ttdeci">void continueSysEx(const uint8_t *&amp;data, size_t &amp;length, uint16_t timestamp)</div><div class="ttdoc">Add a SysEx continuation to the packet.</div><div class="ttdef"><b>Definition</b> <a href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html#l00137">BLEMIDIPacketBuilder.cpp:137</a></div></div>
<div class="ttc" id="aclass_b_l_e_m_i_d_i_packet_builder_html_a42fb0e675f4b208dda600b0f5ca7d8ab"><div class="ttname"><a href="#a42fb0e675f4b208dda600b0f5ca7d8ab">BLEMIDIPacketBuilder::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Reset the builder to start a new packet.</div><div class="ttdef"><b>Definition</b> <a href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html#l00048">BLEMIDIPacketBuilder.cpp:48</a></div></div>
<div class="ttc" id="aclass_b_l_e_m_i_d_i_packet_builder_html_a697744b83d1cb19540cf6eb47c973954"><div class="ttname"><a href="#a697744b83d1cb19540cf6eb47c973954">BLEMIDIPacketBuilder::BLEMIDIPacketBuilder</a></div><div class="ttdeci">BLEMIDIPacketBuilder(size_t capacity=20)</div><div class="ttdef"><b>Definition</b> <a href="_b_l_e_m_i_d_i_packet_builder_8hpp_source.html#l00069">BLEMIDIPacketBuilder.hpp:69</a></div></div>
<div class="ttc" id="aclass_b_l_e_m_i_d_i_packet_builder_html_a9e0ae2a65e4e468152825621cfe46450"><div class="ttname"><a href="#a9e0ae2a65e4e468152825621cfe46450">BLEMIDIPacketBuilder::addSysEx</a></div><div class="ttdeci">bool addSysEx(const uint8_t *&amp;data, size_t &amp;length, uint16_t timestamp)</div><div class="ttdoc">Try adding (part of) a SysEx message to the packet.</div><div class="ttdef"><b>Definition</b> <a href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html#l00105">BLEMIDIPacketBuilder.cpp:105</a></div></div>
<div class="ttc" id="aclass_b_l_e_m_i_d_i_packet_builder_html_ad8dc627181f213680e5ceac1ccce4ac3"><div class="ttname"><a href="#ad8dc627181f213680e5ceac1ccce4ac3">BLEMIDIPacketBuilder::getBuffer</a></div><div class="ttdeci">const uint8_t * getBuffer() const</div><div class="ttdoc">Get a pointer to the packet data buffer.</div><div class="ttdef"><b>Definition</b> <a href="_b_l_e_m_i_d_i_packet_builder_8hpp_source.html#l00081">BLEMIDIPacketBuilder.hpp:81</a></div></div>
<div class="ttc" id="aclass_b_l_e_m_i_d_i_packet_builder_html_af63e6838d3d6416f589360f8ba04e9ca"><div class="ttname"><a href="#af63e6838d3d6416f589360f8ba04e9ca">BLEMIDIPacketBuilder::getSize</a></div><div class="ttdeci">uint16_t getSize() const</div><div class="ttdoc">Get the size of the current packet.</div><div class="ttdef"><b>Definition</b> <a href="_b_l_e_m_i_d_i_packet_builder_8hpp_source.html#l00079">BLEMIDIPacketBuilder.hpp:79</a></div></div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html#l00105">105</a> of file <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html">BLEMIDIPacketBuilder.cpp</a>.</p>

</div>
</div>
<a id="a3c074425ab32ba4cf39ca1983a1fe774" name="a3c074425ab32ba4cf39ca1983a1fe774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c074425ab32ba4cf39ca1983a1fe774">&#9670;&#160;</a></span>continueSysEx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BLEMIDIPacketBuilder::continueSysEx </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;</td>          <td class="paramname"><span class="paramname"><em>length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>timestamp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a SysEx continuation to the packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">data</td><td>Pointer to the first byte of the SysEx message to send in this continuation packet. At the end, this will point to the first byte to send in the next packet, or <code>nullptr</code> if the message was finished. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">length</td><td>The number of remaining bytes in the SysEx message. At the end, this will be set to remaining number of bytes to send in the next packet. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timestamp</td><td>13-bit BLE-MIDI timestamp.</td></tr>
  </table>
  </dd>
</dl>
<p>If the message can be completed in a single packet, <code>length</code> is set to <code>0</code> (no remaining data bytes) and <code>data</code> is set to <code>nullptr</code>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a9e0ae2a65e4e468152825621cfe46450">addSysEx()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html#l00137">137</a> of file <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html">BLEMIDIPacketBuilder.cpp</a>.</p>

</div>
</div>
<a id="ac7a12aef1832dcc79a692aeeabfa9d24" name="ac7a12aef1832dcc79a692aeeabfa9d24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7a12aef1832dcc79a692aeeabfa9d24">&#9670;&#160;</a></span>empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BLEMIDIPacketBuilder::empty </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the packet buffer is empty. </p>

<p class="definition">Definition at line <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8hpp_source.html#l00083">83</a> of file <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8hpp_source.html">BLEMIDIPacketBuilder.hpp</a>.</p>

</div>
</div>
<a id="ad8dc627181f213680e5ceac1ccce4ac3" name="ad8dc627181f213680e5ceac1ccce4ac3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8dc627181f213680e5ceac1ccce4ac3">&#9670;&#160;</a></span>getBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t * BLEMIDIPacketBuilder::getBuffer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a pointer to the packet data buffer. </p>

<p class="definition">Definition at line <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8hpp_source.html#l00081">81</a> of file <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8hpp_source.html">BLEMIDIPacketBuilder.hpp</a>.</p>

</div>
</div>
<a id="a4bf620e5095cfd30a12e2adc80ed208a" name="a4bf620e5095cfd30a12e2adc80ed208a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bf620e5095cfd30a12e2adc80ed208a">&#9670;&#160;</a></span>getPacket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; uint8_t &gt; &amp; BLEMIDIPacketBuilder::getPacket </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the packet as a vector of bytes. </p>

<p class="definition">Definition at line <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8hpp_source.html#l00086">86</a> of file <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8hpp_source.html">BLEMIDIPacketBuilder.hpp</a>.</p>

</div>
</div>
<a id="af63e6838d3d6416f589360f8ba04e9ca" name="af63e6838d3d6416f589360f8ba04e9ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af63e6838d3d6416f589360f8ba04e9ca">&#9670;&#160;</a></span>getSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t BLEMIDIPacketBuilder::getSize </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the size of the current packet. </p>

<p class="definition">Definition at line <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8hpp_source.html#l00079">79</a> of file <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8hpp_source.html">BLEMIDIPacketBuilder.hpp</a>.</p>

</div>
</div>
<a id="a42fb0e675f4b208dda600b0f5ca7d8ab" name="a42fb0e675f4b208dda600b0f5ca7d8ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42fb0e675f4b208dda600b0f5ca7d8ab">&#9670;&#160;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BLEMIDIPacketBuilder::reset </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the builder to start a new packet. </p>

<p class="definition">Definition at line <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html#l00048">48</a> of file <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html">BLEMIDIPacketBuilder.cpp</a>.</p>

</div>
</div>
<a id="ab73ba97cc167dbd98c37e2e255db5b9b" name="ab73ba97cc167dbd98c37e2e255db5b9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab73ba97cc167dbd98c37e2e255db5b9b">&#9670;&#160;</a></span>setCapacity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BLEMIDIPacketBuilder::setCapacity </td>
          <td>(</td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>capacity</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the maximum capacity of the buffer. Set this to the MTU of the BLE link minus three bytes (for notify overhead). </p>

<p class="definition">Definition at line <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html#l00053">53</a> of file <a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html">BLEMIDIPacketBuilder.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/MIDI_Interfaces/BLEMIDI/<a class="el" href="_b_l_e_m_i_d_i_packet_builder_8hpp_source.html">BLEMIDIPacketBuilder.hpp</a></li>
<li>src/MIDI_Interfaces/BLEMIDI/<a class="el" href="_b_l_e_m_i_d_i_packet_builder_8cpp_source.html">BLEMIDIPacketBuilder.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_b_l_e_m_i_d_i_packet_builder.html">BLEMIDIPacketBuilder</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
